# YUYU微博项目需求文档

## 一、前景目标

### 1.1 项目业务愿景

- “YUYU微博”旨在构建一个轻量级微博社交平台，用户可以注册登录、发布微博、关注他人、评论与点赞，实现一个简洁、快速、安全的社交互动系统。

- 本系统基于 openGauss 数据库管理系统进行数据存储与管理，后端采用 C++ 实现核心业务逻辑，前端使用 Web 页面提供交互界面。

- 系统目标是实现微博的基本功能，验证数据库建模与 Web 应用集成能力，为进一步扩展（如私信、推荐算法等）奠定基础。

### 1.2 项目目标

1. 在 Windows 搭建一个基于 openGauss 数据库的 Web 微博应用系统。

2. 后端采用 C++ 实现，负责业务逻辑、数据访问与安全控制。

3. 提供基础的微博功能模块：用户注册、登录、发布、评论、点赞、关注、浏览。

4. 支持通过 Web 前端进行友好交互（HTML/CSS/JavaScript 实现）。

5. 实现至少 5 个核心数据库实体（如用户、微博、评论、点赞、关注）。

6. 支持并发访问与事务一致性。

## 三、用例设计

### 3.1 核心用例列表

|用例 ID|用例名称|参与者|优先级|
|---|---|---|---|
|UC - 1|用户注册|游客|高|
|UC - 2|用户登录|用户|高|
|UC - 3|发布微博|用户|高|
|UC - 4|评论微博|用户|高|
|UC - 5|点赞微博|用户|高|
|UC - 6|浏览微博|用户|高|
|UC - 7|关注用户|用户|高|
|UC - 8|私信|用户|中|
### 3.2 详细用例描述

#### UC - 1：用户注册

- 参与者：访客

- 前置条件：用户未登录

- 主干流程：

a. 用户输入用户名、邮箱、密码

b. 系统验证输入合法性

c. 系统写入用户表

d. 返回注册成功提示

- 异常流程：

a. 用户名重复

b. 邮箱格式错误

#### UC - 3：发布微博

- 参与者：已登录用户

- 主干流程：

a. 用户输入微博内容（文字/图片）

b. 系统存储微博信息（用户ID、内容、时间戳）

c. 更新用户微博列表

- 异常处理：

a. 内容为空

b. 网络异常

#### UC - 5：点赞微博

- 参与者：用户

- 主干流程：

a. 用户点击点赞按钮

b. 系统在点赞表中记录（用户ID，微博ID）

c. 微博点赞数自动更新

## 四、功能需求

### 4.1 用户模块

1. 用户注册

2. 用户登录

3. 个人信息管理（隐含，基于核心功能推导）

### 4.2 微博模块

1. 发布微博（文字 + 图片）

2. 删除自己的微博

3. 浏览微博列表（按时间、关注）

### 4.3 评论模块

1. 发表评论

2. 删除评论

### 4.4 点赞模块

1. 点赞

2. 取消点赞

### 4.5 关注模块

1. 关注/取关用户

2. 查看粉丝与关注列表

### 4.6 系统模块

1. 权限控制、输入验证

2. 数据持久化与事务处理

## 五、非功能需求

### 5.1 性能需求

- 单次数据库查询响应时间 ≤ 200ms。

- 系统同时支持 100 个用户并发访问。

- 注册、发布微博等操作在 3 秒内完成。

- 系统可部署于 Linux + openGauss 环境，运行稳定 24 小时。

### 5.2 安全需求

- 用户密码采用加密存储（如 SHA256）。

- 防止 SQL 注入与 XSS 攻击。

- 用户会话基于 Token 或 Session 控制。

## 六、领域模型设计

### 6.1 核心对象定义

|实体|主键|关键属性|描述|
|---|---|---|---|
|User|user_id|username，password，email|存储用户基本信息|
|Weibo|weibo_id|user_id,content,time|微博内容信息|
|Comment|comment_id|weibo_id, user_id, content, time|微博评论|
|Like|like_id|weibo_id, user_id|微博点赞关系|
|Follow|follow_id|follower_id, followee_id|用户关注关系|
## 七、业务规则

1. 用户必须先登录才能进行微博发布、评论、点赞等操作。

2. 同一用户对同一微博只能点赞一次。

3. 删除用户时，其微博、评论、点赞同步删除（级联删除）。

4. 微博按发布时间倒序显示。

5. 每条微博可被多用户点赞和评论。

## 八、测试要点

|测试类别|主要内容|
|---|---|
|功能测试|注册登录、发微博、评论、点赞、关注功能是否正常|
|性能测试|多用户并发访问响应时间|
|安全测试|SQL注入、密码加密、会话验证|
|数据完整性测试|级联删除、事务一致性验证|
|界面测试|前端交互与后端数据一致性检查|
> （注：文档部分内容可能由 AI 生成）